You are a senior NixOS engineer. Work ONLY in this VS Code workspace (repo bnixos).
Do NOT run git commands. Do NOT commit or push. Create/modify files in the workspace.

TASK: Implement a SINGLE installer ISO that offers 3 installation choices at install time:
- Prod
- Dev
- Nightly

REQUIREMENT:
- The ISO should boot into GNOME live session as before.
- In the GNOME app menu (or on desktop), provide 3 launchers:
  1) "Install BNIXOS (Prod)"
  2) "Install BNIXOS (Dev)"
  3) "Install BNIXOS (Nightly)"
- Each launcher must:
  - Write the selected track to /tmp/bnixos-track (exact content: prod|dev|nightly)
  - Then launch Calamares installer
- During installation, ensure the installed system ends up with:
  - /etc/bnixos/track containing the chosen track
  - Default track must be "prod" if /tmp/bnixos-track is missing

IMPLEMENTATION DETAILS (must be production-ready):
1) Create scripts:
- /usr/local/bin/bnixos-install-prod
- /usr/local/bin/bnixos-install-dev
- /usr/local/bin/bnixos-install-nightly
Each script writes /tmp/bnixos-track and execs calamares.
Use English comments in scripts.

2) Create .desktop launchers (GNOME):
- Place them where GNOME will show them in the app grid (e.g. /usr/share/applications).
Ensure they have proper Name/Icon/Exec.

3) Integrate with Calamares so that at the END of install it writes the track into the target system:
- Use a Calamares module configuration approach (shellprocess module) that runs after filesystem is mounted.
- The shell command must write to the target root (mounted at /mnt by Calamares):
  - mkdir -p /mnt/etc/bnixos
  - if /tmp/bnixos-track exists, copy it; else write "prod"
  - chmod 0644 /mnt/etc/bnixos/track
- Ensure this runs reliably near the end of the Calamares module sequence.

4) Keep all existing bnixos requirements unchanged:
- NixOS flake ISO with Calamares graphical installer module
- GNOME+GDM, Snap enabled (users allowed to install snap apps), Flatpak enabled
- Per-user first-login Flatpak bootstrap installs LibreOffice+Chromium
- IBus + Bamboo enabled
- GNOME de-tech (exclude terminal, logs, disks, etc) + dconf disable-command-line
- Update agent with version.txt / version.dev.txt / nightly behavior already specified

FILES:
- Modify iso.nix and/or appropriate modules to add the scripts and .desktop files to the ISO environment.
- Add any Calamares config overlay files needed (under a reasonable directory in repo, then include into ISO).
- Keep code valid Nix syntax.

OUTPUT:
- Show final repository tree
- Output full contents of all created/modified files
- No explanations, no questions

Start now.
